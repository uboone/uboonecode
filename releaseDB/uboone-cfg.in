# build uboonecode

basequal=${1}

# specify version to bootstrap and setup ups
check_ups v6_1_1

build_bundle larsoft-@LARSOFT_DOT_VERSION@ ${basequal}
status=$?
if (( ${status} != 0)); then
  cat 1>&2 <<EOF
Build of larsoft-@LARSOFT_DOT_VERSION@ bundle failed with status ${status}
EOF
  return ${status}
fi

ensure_cetbuildtools v7_03_02

#pull_product uboone_photon_propagation @UBOONE_PHOTON_PROPAGATION_VERSION@ uboone_photon_propagation-@UBOONE_PHOTON_PROPAGATION_DOT_VERSION@-noarch.tar.bz2
build_noarch uboone_photon_propagation @UBOONE_PHOTON_PROPAGATION_VERSION@
do_pull swtrigger @SWTRIGGER_VERSION@ ${basequal}
do_pull larlite @LARLITE_VERSION@ ${basequal}
do_pull larcv @LARCV_VERSION@ ${basequal}
build_cet -G nusofthep geant4reweight @GEANT4REWEIGHT_VERSION@ ${basequal}:@SQUAL@
do_build glpk @GLPK_VERSION@
do_build wcp @WCP_VERSION@ ${basequal}
build_noarch uboone_oslibs @UBOONE_OSLIBS_VERSION@
build_cet -G uboone uboonedaq_datatypes @UBOONEDAQ_DATATYPES_VERSION@ ${basequal}:offline
build_cet_null -G uboone uboonedata @UBOONEDATA_VERSION@
build_cet_null -G uboone larbatch   @LARBATCH_VERSION@
build_cet -G uboone ubutil @UBUTIL_VERSION@ ${basequal}
build_cet -G uboone ubobj @UBOBJ_VERSION@ ${basequal}
build_cet -G uboone ubcore @UBCORE_VERSION@ ${basequal}
build_cet -G uboone ubraw @UBRAW_VERSION@ ${basequal}
build_cet -G uboone -n ubevt @UBEVT_VERSION@ ${basequal}
build_cet -G uboone ubcrt @UBCRT_VERSION@ ${basequal}
build_cet -G uboone ubcv @UBCV_VERSION@ ${basequal}
build_cet -G uboone ubsim @UBSIM_VERSION@ ${basequal}
build_cet -G uboone ubreco @UBRECO_VERSION@ ${basequal}
build_cet -G uboone ubana @UBANA_VERSION@ ${basequal}
build_cet -G uboone ublite @UBLITE_VERSION@ ${basequal}
build_cet -G uboone -n uboonecode @UBOONECODE_VERSION@ ${basequal}

return 0
